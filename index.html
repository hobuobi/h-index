<!DOCTYPE html>

<html>
    <head>
        <title>H-INDEX TEST</title>
        <!-- CS -->
        <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
        <link rel='stylesheet' href='css/main.css'>
        <!-- JS -->
        <script
		src="https://code.jquery.com/jquery-3.2.1.min.js"
		integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
		crossorigin="anonymous"></script>
    </head>
    <body>
        <h1>H-INDEX SURVEY</h1>
        <h3>A brief quantitative study on hookup culture and its social factors/trends.</h3>
        <hr />
        <form>
            <div id='partner-cont'>
                <p>When filling this out, make sure to only include people who you have never been in a relationship with.</p>
                <ul id='partners'>   
                    <li>
                        Partner 1
                        <input class='encounters' type='text' placeholder='#' maxlength='2' />
                    </li>
                </ul>
                <button type='button' id='partners-add'>Add Partner</button>
                <button type='button' id='partners-submit'>Submit</button>
            </div>
        </form>
    </body>
    <script>
        var partnerNumber = 1;
        applyBehaviors();
        /*
        function numCheck(el){
            if(el.value.length < 1 || !isNan(el.value))
                this.parentNode.innerHTML += "<span class='warning'>Non-numerical input. Please fix this.</span>";
            else
                this.parentNode.getElementsByClassName("warning").removeChild();
        }
        */
        function applyBehaviors(){
            $('.encounters').blur(function(){
                console.log(typeof $(this).val() == 'number')
                if(typeof $(this).val() != 'number' && $(this).find('.warning'))
                    $(this).parent().append("<span class='warning'>Non-numerical input. Please fix this.</span>")
                else
                    $(this).parent().find(".warning").remove()
            })
        }
        $('#partners-add').click(function(){
            partnerNumber++;
            $('#partners').append("<li>Partner "+partnerNumber+"<input class='encounters' type='text' placeholder='#' maxlength='2'/>")
            applyBehaviors();
        })
    </script>
</html>
